#include <fstream>
#include "cpu.h"

#ifndef MEMORY_COMMANDS_H
#define MEMORY_COMMANDS_H

void decode_header();
unsigned char* load_rom(char* filepath);
unsigned char read(unsigned short address);
unsigned short readword(unsigned short address);
void write(unsigned short address, unsigned char data);
void write(unsigned short address, struct word data);

unsigned char m[0x10000];
unsigned char ff_256[256];
unsigned char* game_sram;
unsigned char* game_rom;
unsigned char mapper_number = 0;
unsigned int rom_size = 0;
int ram_size = 0;
unsigned int sram_bank_offset = 0;
bool has_ram = false;
bool has_battery = false;
bool has_rtc = false;
bool sram_enable = false;
bool rtc_in_a000 = false;


int cart_size = 0;

unsigned char default_boot_rom[256] = {
    0x31,0xfe,0xff,0xaf,0x21,0xff,0x9f,0x32,
    0xcb,0x7c,0x20,0xfb,0x21,0x26,0xff,0x0e,
    0x11,0x3e,0x80,0x32,0xe2,0x0c,0x3e,0xf3,
    0xe2,0x32,0x3e,0x77,0x77,0x3e,0x55,0xe0,
    0x47,0x3e,0x91,0xe0,0x40,0x00,0x00,0x00,
    0xaf,0xfa,0x04,0x01,0xfe,0xce,0x20,0x16,
    0xfa,0x05,0x01,0xfe,0xed,0x20,0x0f,0xfa,
    0x06,0x01,0xfe,0x66,0x20,0x08,0xfa,0x07,
    0x01,0xfe,0x66,0xca,0xfb,0x00,0xf3,0x00,
    0x3e,0x00,0xea,0x47,0x55,0x18,0xf7,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x3e,0x01,0xe0,0x50
    };

#endif